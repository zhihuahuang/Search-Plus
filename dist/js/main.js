!function e(t,n,o){function r(i,u){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!u&&s)return s(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var g=n[i]={exports:{}};t[i][0].call(g.exports,function(e){var n=t[i][1][e];return r(n?n:e)},g,g.exports,e,t,n,o)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,t,n){!function(){$.getJSONP=function(e,t,n,o){var r={url:e,data:t,dataType:"jsonp",success:o};"jsonp"in n&&(r.jsonp=n.jsonp),"jsonpCallback"in n&&(r.jsonpCallback=n.jsonpCallback),$.ajax(r)}}()},{}],2:[function(e,t,n){!function(){function e(e,t){t=t||function(){},e.type.match(/image/)||t(new Error("File type is not image"));var n=new FileReader;n.onloadend=function(e){t(null,this.result)},n.readAsDataURL(e)}function t(e,t){var n,o,r,a;n=o=r=a=function(){},"function"==typeof t?a=t:"object"==typeof t&&(n=t.dragenter||n,o=t.dragover||o,r=t.dragleave||r,a=t.drop||a),e.addEventListener("dragenter",function(e){e.stopPropagation(),e.preventDefault(),n(e)},!1),e.addEventListener("dragover",function(e){e.stopPropagation(),e.preventDefault(),o()},!1),e.addEventListener("dragleave",function(e){e.stopPropagation(),e.preventDefault(),r()},!1),e.addEventListener("drop",function(e){e.stopPropagation(),e.preventDefault(),a(e.dataTransfer.files,e)},!1)}n.bind=t,n.imageToDataURL=e}()},{}],3:[function(e,t,n){var o=e("./drag-file"),r=$(".background");o.bind(r[0],{dragenter:function(){r.css("opacity",.3)},dragleave:function(){r.css("opacity",1)},drop:function(e){var t=e[0];o.imageToDataURL(t,function(e,t){try{localStorage.setItem("background-image",t),r.css("opacity",1).css("background-image","url("+localStorage.getItem("background-image")+")")}catch(n){"QuotaExceededError"==n.name}})}});var a=localStorage.getItem("background-image");a&&r.css("background-image","url("+a+")")},{"./drag-file":2}],4:[function(e,t,n){!function(){function t(e){/^\s*$/.test(e)||(e.trim().split(/\s+/).forEach(function(e){var t=$("<label>").text(e),o=n.matchEngine(e);if(o){var r=n.getEngine(o).color||"#999";t.css({background:r,"border-color":r}).attr("data-engine",o)}u.append(t)}),s.val(""))}e("./common");var n,o=e("./utils"),r=$(window),a=$("#search_form"),i=a.find("button"),u=$(".search-label-wrapper"),s=$(".search-textbox").on("input change",function(e){var n=s.val();/^\s*\S+\s+/.test(n)&&t(n),$(window).trigger("suggest-reload",n)}).on("keydown",function(e){8==e.keyCode&&""==s.val()&&(e.preventDefault(),s.val(u.children().last().remove().text()))});r.on("suggest-select",function(e,t){s.val(t).focus()}),i.on({keydown:function(e){8==e.keyCode?e.preventDefault():9==e.keyCode?(e.preventDefault(),r.trigger("suggest-blur"),s.focus()):13!=e.keyCode&&(e.preventDefault(),r.trigger("suggest-keydown",e.keyCode))},keyup:function(e){return 9==e.keyCode?(r.trigger("suggest-focus"),!1):void 0}}),async.reduce(["data/search.default.json","data/search.develop.json","data/search.design.json"],{},function(e,t,n){$.getJSON(t,function(t){for(var o in t)e[o]=t[o];n(null,e)})},function(o,r){n=new(e("./search/config"))(r);var i=new(e("./search/index"))(r);a.submit(function(e){e.preventDefault(),t(s.val());var n=[],o=[];u.children().each(function(e,t){var r=$(t),a=r.attr("data-engine");a?n.push(a):o.push(r.text())}),i.submit(o.join(" "),n),s.focus()})}),function(){function e(){var e,n=$(this);do e=Math.floor(Math.random()*t.length);while(t[e].toUpperCase()==o.rgbToHex(n.css("background-color")));n.css("background-color",t[e])}var t=["#AC033B","#ED8CB5","#F08608","#7DA457","#0088EE"];e.apply(i.on("transitionend webkitTransitionEnd",e))}()}(window),e("./suggest/index"),e("./drag/index")},{"./common":1,"./drag/index":3,"./search/config":5,"./search/index":6,"./suggest/index":7,"./utils":9}],5:[function(e,t,n){t.exports=function(e){function t(e){if(!/^\s*$/.test(e)){if(e in o)return o[e];for(var t=0,n=regexpList.length;n>t;t++)if(e.match(new RegExp("^("+regexpList[t].match+")$","i")))return regexpList[t].engine}return null}function n(t){return e[t]}var o={};regexpList=[];for(var r in e){var a=e[r];if(a.match&&regexpList.push({match:a.match,engine:r}),"keywords"in a)for(var i=a.keywords,u=0,s=i.length;s>u;++u){var c=i[u];c in o||(o[c]=r)}}return{matchEngine:t,getEngine:n}}},{}],6:[function(e,t,n){function o(e,t){e+="?";for(var n in t)e+=n+"="+t[n]+"&";return encodeURI(e.substring(0,e.length-1))}function r(e){if(!e.url)throw new Error('"url" argument does not allow to null!');if(e.type&&"POST"===e.type.toUpperCase()){var t=document.createElement("form");t.action=e.url,t.method=e.type||"GET",t.target="_"+(e.target||"blank"),t.acceptCharset=e.charset||"utf-8";var n,r;for(n in e.data)r=document.createElement("input"),r.setAttribute("name",n),r.setAttribute("value",e.data[n]),t.appendChild(r);t.submit()}else e.url=o(e.url,e.data),e.target&&"self"===e.target.toLowerCase()?window.location.href=e.url:window.open(e.url)}function a(e){return e instanceof Array}t.exports=function(e){function t(t){for(var n={},o=0;o<t.length;o++){var r=t[o];a(e[r].engines)?t=t.concat(e[r].engines):r in n||(n[r]=!0)}return Object.keys(n)}function n(n,o){a(o)?0==o.length&&(o=["default"]):(o=!o||/^\s*$/.test(o)?"default":o,o=[o]),o=t(o),o.forEach(function(t){if(t in e){var o=Object.create(e[t]);for(var a in o.data)o.data[a]=o.data[a].replace(/%s/gi,n);o.url=o.url.replace(/%s/gi,n),r(o)}})}return{submit:n}}},{}],7:[function(e,t,n){function o(e,t){if(t.word==s.word){if(t.suggest.length+d.children().length<1)return void d.attr("hidden",!0);t.suggest.forEach(function(e){!e||e.match(/\s/)||s.map[e]||(s.map[e]={suggest:e,from:t.from})});var n=[];for(var o in s.map)n.push(s.map[o]);var r="";n.sort(function(e,t){return e=e.suggest,t=t.suggest,e.length-t.length||-e.localeCompare(t)}).forEach(function(e,t){var n={name:u[t]};n.code=(""+n.name).charCodeAt(),r+=g.template(f,{key:n,suggest:e.suggest,from:e.from})}),d.html("").append(r).removeAttr("hidden")}}function r(e){var t=(e.substr(0,this.selectionStart).match(/[^\s\+]\S*$/i)||[""])[0];t!=s.word&&(s={word:t,index:0,map:{}},d.attr("hidden",!0).html(""),c.getSuggest(t,o))}function a(e){e&&(l.trigger("suggest-select",e),d.removeClass("active"),r(e))}function i(e){e.hasClass("suggest")&&a(e.addClass("keydown").text())}var u=[1,2,3,4,5,6,7,8,9,0,"Q","W","E","R","T","Y","U","I","O","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],s={},c=e("./suggest"),g=e("../utils"),l=$(window),d=$("#suggest_list"),f=d.html();window.jsonpBaidu=window.jsonp360=window.jsonpSogou=function(){},window.sogou={sug:function(e){window.jsonpSogou(e)}},d.click(function(e){i($(e.target))}),l.on({"suggest-reload":function(e,t){r(t)},"suggest-focus":function(){d.addClass("active")},"suggest-blur":function(){d.removeClass("active")},"suggest-keydown":function(e,t){i(d.find('[data-key-code="'+t+'"]'))}})},{"../utils":9,"./suggest":8}],8:[function(e,t,n){var o={};n.getSuggest=function(e,t){e&&(t=t||function(){},o[e]||(o[e]={}),o[e][360]?t(null,o[e][360]):$.getJSONP("http://sug.so.360.cn/suggest",{encodein:"utf-8",encodeout:"utf-8",word:e},{jsonp:"callback",jsonpCallback:"jsonp360"},function(n){o[e][360]={word:n.q,suggest:n.s,from:"360"},t(null,o[e][360])}),o[e].sogou?t(null,o[e].sogou):$.getJSONP("https://www.sogou.com/suggnew/ajajjson",{key:e,type:"web"},{jsonpCallback:"jsonpSogou"},function(n){o[e].sogou={word:n[0],suggest:n[1],from:"sogou"},t(null,o[e].sogou)}),o[e].baidu?t(null,o[e].baidu):$.getJSONP("https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",{wd:e},{jsonp:"cb",jsonpCallback:"jsonpBaidu"},function(n){o[e].baidu={word:n.q,suggest:n.s,from:"baidu"},t(null,o[e].baidu)}))}},{}],9:[function(require,module,exports){module.exports={template:function(tpl,obj,lw,rw){lw=lw||"\\${",rw=rw||"}";var pattern=new RegExp(lw+"((?:(?!"+rw+").)*)"+rw,"igm");return tpl.replace(pattern,function($0,$1){with(obj)return eval($1)})},rgbToHex:function(e){for(var t=e.match(/\d+/g),n="#",o=0;o<t.length;++o){var r=(+t[o]).toString(16).toUpperCase();n+=1==r.length?0+r:r}return n}}},{}]},{},[4]);